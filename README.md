# Findtrashcan
서울시 쓰레기 여기 버려!
* 외출시 쓰레기를 버려야 하는 상황이 생겼을 때 쓰레기통에 버릴 수 있도록 서울시의 가로휴지통 정보를 공유하는 플랫폼입니다.

## 1. 제작기간 & 팀원소개
* 2022년 8월 1일 ~ 2022년 8월 4일 (총4일)
* 4인 1조 팀 프로젝트
  - 전선향 : 로그인, 회원가입 페이지 제작 및 기능구현 ,마이페이지 프로필 수정 및 로그아웃 기능 구현, DB 관리
  - 신진경 : 
  - 김도희 : 
  - 문지웅 : 기본 레이아웃(base.html) 구성, 상세 페이지- 리뷰 작성 기능 구현, 마이 페이지 리뷰 목록 및 즐겨찾기 목록 표시 구현

## 2. 사용 기술
* Back-end
    - python 3
    - Flask (python frame work)
    - MongoDB
* Front-end
    - bulma
    - JQuery
    - AJAX
* Deploy
    - AWS EC2
    
## 3. 핵심기능
 * 회원가입 및 로그인
   - JWT를 이용하여 로그인과 회원가입을 구현하였습니다.
   - 회원가입시 아이디를 중복하였는지 확인가능합니다.
   
   
 * 상세페이지 기능
   - 각 쓰레기통마다 고유 id를 부여하여 상세페이지 기능을 구현하였습니다.
   - SSR(Server Side Rendering)방식으로 구현하였습니다.  
   
 * 리뷰, 즐겨찾기 기능
   - 각 상세페이지마다 리뷰의 인덱스와 id를 부여하여 리뷰 추가 및 삭제 기능을 구현하였습니다. 
   
 * 구글지도 기능
   - Google cloud platform에서 지도API와 좌표API를 활용하여 상세페이지에 지도 기능을 구현하였습니다.  
## 4. 실행화면
<유튜브 링크>
## 5.이슈정리
* Q1. 쓰레기통 리스트페이지에서 쓰레기통 상세페이지로 이동을 위해서는 각 쓰레기통 id를 부여 해야하는데 어떤식으로 각 쓰레기통을 규명할 id를 만들어 낼 수 있을까?  
   - A1. 쓰레기통 대한 DB를 구성할때 ['쓰레기통 주소', '좌표', 'id']를 만들어서 넣어주면 각 쓰레기통에 대한 id를 부여하는 것이 될거라고 판단했습니다.  
         따라서 id는 파이썬에서 for문을 이용하여 1부터 N까지 DB에 넣는 순서대로 id를 부여해 주었습니다.  
         그렇게 쓰레기통리스트를 누르면 href = "현재url/쓰레기통id "로 이동하도록하여 각 쓰레기통마다의 id로 상세페이지를 부여해주었습니다.(진경님 수정)
         
* Q2. 쓰레기통에 대한 정보(데이터)를 모아둔 사이트를 크롤링하여 DB에 데이터를 쌓아야했는데, 사이트 혹은 구글지도 등에서 제공하는 쓰레기통정보는 사용하기에 너무 불편하게 되어있었던 문제를 어떻게 해결할 것인가?
   - A2. 쓰레기통에 대한 정보를 제공해주는 공공 데이터 포털 사이트(API제공 사이트)를 발견하여 여기서 쓰레기통 주소, 위도, 경도 데이터를 DB에 쌓을 수 있었습니다.

* Q3. 카카오지도나 구글지도를 크롤링하여서 지도정보를 사용하고 싶은데, 셀레니움이라는 파이썬 라이브러리까지 사용해야 하여 상당히 불편하게 되어있어서 어떻게 하면 지도정도를 가져올 수 있을까?
   - A3. 구글이 제공하는 googlemap API를 사용해보기로 하였습니다. 처음 가입하면 300달러를 지원해주어서 이번 단기 프로젝트 하는동안에는 충분하다고 판단되어 구글이 제공하는 map UI와 X,Y좌표를 한국주소로 변환해주는 API를 활용하였습니다.
         프로젝트 하는동안에는 충분하다고 판단되어 구글이 제공하는 map UI와 X,Y좌표를 한국주소로 변환해주는 API를 활용하였습니다.
         (진경님 수정)

* Q4.  로그인 페이지에서 ID, PW를 클라이언트 <-> 서버 매칭하여 토큰발행 과정에서 오류 발생.
   - A4. 개발 시 localhost 환경에서는 decode가 이미 되어있어서 필요없는코드였지만, 배포 시 리눅스 환경에서는 .decode('utf-8')을 포함시켜서 배포하여 해결하였습니다.  
         ```python
         token = jwt.encode(payload, SECRET_KEY, algorithm='HS256').decode('utf-8')
         ```
